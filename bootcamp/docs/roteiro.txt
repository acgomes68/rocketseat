Preparação do Ambiente
Node LTS
Latest LTS Version: 10.16.3 (includes npm 6.9.0)
http://nodejs.org
usar package manager
adicionar repositório com curl/apt-key da versão LTS
sudo apt-get install -y nodejs
node -v
npm -v

Insomnia REST API
https://insomnia.rest

yarn
http://yarnpkg.com
adicionar repositório com curl/apt-key
sudo apt-get update && sudo apt-get install --no-install-recomends yarn
yarn -v

vsCode
extensions:
- Dracula Official
-- Set Theme Dracula (not Soft)
- Material Icon Theme
- Rocketseat
-- ReactJS
-- React Native
fonts:
-- fira code
-- preferences:
--- ctrl+shift+p
--- open settings json 
--- "editor.fontFamily": "Fira Code"
--- "editor.fontLigatures": true

###################################################################################################

Semana 1/6 - Módulo 1 - Node.js
Conceitos de API Rest
Método HTTP/Recurso ou Rota/Parâmetro
GET	    http://minhaapi.com/users
POST	http://minhaapi.com/users
PUT	    http://minhaapi.com/users/1
DELETE	http://minhaapi.com/users/1

	Método HTTP/Recurso ou Rota/Route Params/Recurso ou Rota/Query Params
GET	http://api.com/company/1/users?page=2

	Método HTTP/Recurso ou Rota/Route Params/Recurso ou Rota/Query Params
POST	http://api.com/company/1/users
Request body/Body/Corpo da requisição (Apenas PUT ou POST)
{
	"user": {
		"name": "fdfhdkfhd",
		"email": "fdfa@ddd.com",
		"tech": ["ReactJS", "NodeJS", "ReactNative"]
	}
}
Headers
{
	"Locale": "pt_BR"
}

HTTP Codes
1xx: Informational
2xx: Success
- 200: Success
- 201: Created
3xx: Redirection
- 301: Moved permanently
- 302: Moved
4xx: Client Error
- 400: Bad Request
- 401: Unauthorized
- 404: Not Found
5xx: Server Error
- 500: Internal Server Error

../bootcamp
mkdir modulo01 && cd modulo01
yarn init -y
ls
package.json
yarn add express

# criar index.js

# Importar express
const express = require('express');

# Criar uma instância do express
const server = express();

# Determinar que a instância usará o formato JSON do express
server.use(express.json());

# Criar as rotas
server.get('/{rota}', (req, res) => {
    return res.json({obejto formato JSON});
});

# Definir em qual porta a instância do express executará os métodos HTTP
server.listen({porta});

# Iniciar o servidor HTTP da instância do express
node index.js

req.query.{parameter name} -> acessar query params para filtros (GET).Ex.: http://api.com/users?name=John
req.params.{parameter name} -> acessar route params para edição e exclusão (PUT, DELETE).Ex.: http://api.com/users/2
req.body.{parameter name} -> acessar corpo da requisição para edição e inclusão (PUT, POST).Ex.: http://api.com/users
req.headers -> 

//  C               R           U           D
//  Create (POST)   Read(GET)   Update(PUT) Delete

const users = ['Antonio', 'Jorge', 'Eduardo'];

// http://localhost:3000/users
server.get('/users', (req, res) => {
    return res.json(users);
});

// http://localhost:3000/users/1
server.get('/users/:index', (req, res) => {
    const { index } = req.params;

    return res.json(users[index]);
});

// POST http://localhost:3000/users HTTP/1.1
// content-type: application/json
// {
//     "name": "Robson",
// }
server.post('/users', (req, res) => {
    const { name } = req.body;

    users.push(name);

    return res.json(users);
});

// PUT http://localhost:3000/users/1 HTTP/1.1
// content-type: application/json
// {
//     "name": "Luís",
// }
server.put('/users/:index', (req, res) => {
    const { index } = req.params;
    const { name } = req.body;

    users[index] = name;

    return res.json(users);
});

// DELETE http://localhost:3000/users/1 HTTP/1.1
server.delete('/users/:index', (req, res) => {
    const { index } = req.params;

    users.splice(index, 1);

    return res.json(users);
});

server.listen(3000);

# Instalar o nodemon localmente somente para o ambiende de desenvolvimento
yarn add nodemon -D

# Adicionar o atalho no package.json
"scripts": {
"dev": "nodemon index.js"
},
yarn dev


###################################################################################################

Semana 1/6 - Módulo 2 - backend GoBarber
yarn add sucrase nodemon -D

# routes
import { Router } from 'express';
export default routes;

# app
import express from 'express';
import routes from './routes';
export default new App().server;

# server
import app from './app';

yarn sucrase-node src/server.js
criação do script dev:debug no package.json
criação do nodemon.json
criação da configuração do debugger do vscode

utilização do docker
# logar no docker hub
docker login

# Instalação da imagem do postgres
docker run --name database -e POSTGRES_PASSWORD=docker -p 5432:5432 -d postgres:11

Postbird - Postgres GUI
https://electronjs.org/apps/postbird

# Criar database gobarber

# Sequelize ORM SQL Databases para Node
- Migrations passadas para outros DEV's ou em produção NÃO PODEM MAIS SER ALTERADAS;
- Uma migration para cada tabela;
- Seeds para preenchimento de dados de teste, somente em ambiente DEV;
- Seeds executados somente através do código, nunca diretamente na base de dados;

# ESLint
yarn add eslint -D
yarn eslint --init
- To check syntax, find problems and enforce code style
- CommonJS (require/exports)
- None of these
- Typescript: No
- (only)Node
- Use a popular style guide
- AirBnB
- Javascript
- (Dependencies) Yes
- Apagar package-lock.json gerado pelo npm;
- yarn
Instalar extensão ESLint (Dirk Baeumer)
vscode settings.json (Ctrl+,(vírgula))
eslint.autoFixOnSave: true
eslint.validate
# .eslintrc.js
rules {
    "class-methods-use-this": "off",
    "no-param-reassign": "off",
    "camelcase": "off",
    "no-unused-vars": ["error", { "argsIgnorePattern": "next" }],
    "prettier/prettier": "error",
}

# Prettier
yarn add prettier eslint-config-prettier eslint-plugin-prettier -D
# .eslintrc.js
extends: ['airbnb-base', 'prettier']
plugins: ['prettier']

# .prettierrc
{
    "singleQuote": true,
    "trailingComma": "es5"
}

yarn eslint --fix src --ext .js

# EditorConfig
Instalar extensão EditorConfig for VS Code (Dirk Baeumer)
Generate .editorconfig
- indent_size = 2 (Prefiro 4)
- trim_trailing_whitespace = true
- insert_final_newline = true

# Configurando Sequelize
- estrutura de pastas
-- criar src/config/database.js
-- criar src/database/migrations
-- criar src/app/controllers
-- criar src/app/models

yarn add sequelize
yarn add sequelize-cli -D

# .sequelizerc
- Configurar os paths dos arquivos referentes aos models e configurações de database

# Instalar dependências do Postgres para o Sequelize
yarn add pg pg-hstore

# config/database.js
module.exports = {
  dialect: 'postgres',
  host: 'localhost',
  username: 'postgres',
  password: 'docker',
  database: 'gobarber',
  define: {
    timestamps: true,
    underscored: true,
    underscoredAll: true,
  },
};

# geração da migration da tabela users
yarn sequelize migration:create --name=create-users
atualiza o arquivo src/database/migrations/999999-create-users.js com a estrutura da tabela users

# Executa as migrations disponíveis
yarn sequelize db:migrate

# Desfaz a execução das migrations (down ou rollback)
yarn sequelize db:undo (somente a última)
yarn sequelize db:undo:all (todas)

# Gerar Seeds
yarn sequelize seed:generate --name admin-user
yarn sequelize db:seed:all

# Extensão para geração do hash da senha
yarn add bcryptjs

# Instalação do JWT
yarn add jsonwebtoken

# Gerador de hashes
https://www.md5online.org/

# Validação dos dados de entrada
yarn add yup



https://www.mongodb.com/cloud/atlas
- create cloud;
- create user in database access;
- add ip address in network access with any ip address: 0.0.0.0/0;
- copy connection string in clusters/connect/your application;

yarn add mongoose

# Verificar acesso à porta do mongo, se tem proxy
MongoDB port: 27017
http://portquiz.net:27017/

/controllers
    // index, show, store, update, destroy
    model.findOne()
    model.create()
	/SessionController.js (Porque não UserController?)
    /Spot.js
/models
    User.js
    Spot.js
        techs: [String]
        user.type

await e async !important
post multipart (string, number, array, file)
yarn add multer

yarn add dotenv

###################################################################################################

Dia 3/5 - Contrução do frontend Web Responsivo com ReactJS
cd rocketseat/omnistack
yarn create react-app frontend
color highlight vscode extension

gnome terminal backend: yarn dev
vscode terminal frontend: yarn start

yarn add axios
#### yarn add dotenv
backend: yarn add cors

await booking.populate('user').populate('spot').execPopulate();

import React, { useState } from 'react';
localStorage.setItem('user', _id);

yarn add react-router-dom

model virtual column

###################################################################################################

dia 4/5 - Contrução do frontend Mobile com React Native
Instalar o App Expo
instalar o expo-cli: npm install -g expo-cli
cd rocketseat/omnistack
expo init mobile
- template: blank;
- App Name: AirCnC;
- Yarn: Yes
cd mobile
yarn start

Emuladores:
iOS: xcode (só funciona no OS da Apple)
Android: genymotion for fun
- Android API: >=9.0
- Available templates: Google Pixel 3

Logar no App Expo
Acessar URL exposta: exp://192.168.0.50:19000
Focar o QR Code

cd mobile && code .
yarn add react-navigation
expo install react-native-gesture-handler react-native-reanimated
yarn add axios
MongoDB Compass

yarn add react-native-dotenv --dev
https://www.reactnativeschool.com/easily-manage-different-environment-configurations-in-react-native

###################################################################################################

dia 5/5 - Funcionalidades avançadas
backend: yarn add socket.io
frontend: yarn add socket.io-client
mobile: yarn add socket.io-client

#omnistacknextlevel

######### Javascript #########
document.querySelector()
document.querySelectorAll()
document.createElement()
document.setAttribute()
document.createTextNode()
element1.appendChild(element2)
element1.removeChild(element2)
element.style.attribute = value
for (element of array)
array.push(value)
array.splice(position, count)
array.indexOf()

localStorage.setItem(id, value)
localStorage.getItem(id)
JSON.stringify(array)
JSON.parse(JSON text)

var id = value || default

